<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>텍스트 온 더 무브</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;600;800&display=swap" rel="stylesheet">

<meta name="description" content="국립창원대학교 도서관 북큐레이션 참여이벤트 - 텍스트 온 더 무브">
<meta name="theme-color" content="#0E5A72">

<style>
  :root{
    --bg-1:#000000; --bg-2:#000000;
    --card:#ffffff; --ink:#1f2937; --muted:#6b7280; --line:#e5e7eb;
    --tab:#f3f4f6; --tab-active:#2563eb; --tab-active-txt:#ffffff;
    --primary:#0E5A72; --primary-hover:#106B86;
    --radius:14px; --shadow: 0 10px 30px rgba(0,0,0,.10);
  }
  *{box-sizing:border-box}
  html, body {height:100%}
  body{
    margin:0; font-family:'Noto Sans KR', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color:var(--ink); background: linear-gradient(180deg, var(--bg-1), var(--bg-2));
    display:flex; align-items:center; justify-content:center; padding:32px 16px;
  }
  .shell{width:100%; max-width:1100px}
  .hero{ text-align:center; color:#fff; margin-bottom:18px }
  .eyebrow{ font-size:clamp(12px,1.6vw,16px); letter-spacing:.02em; opacity:.95; margin-bottom:6px }
  .title{ font-weight:800; font-size:clamp(36px,6vw,64px); line-height:1.12; margin:0 }
  .subtitle{ font-size:clamp(16px,2.6vw,24px); opacity:.95; margin:6px 0 0 }

  .card{ background:var(--card); border:1px solid var(--line); border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden; }
  .card-body{ display:flex; flex-direction:column; align-items:center; text-align:center; padding:36px 18px 42px; gap:24px }
  .lead{ font-size:clamp(14px,2.2vw,18px); color:var(--muted); margin:0 }

  .btn-row{ display:flex; gap:18px; flex-wrap:wrap; justify-content:center }
  .btn{
    appearance:none; border:0; cursor:pointer; padding:14px 20px; min-width:240px; height:56px;
    border-radius:10px; font-weight:700; font-size:16px; color:#fff; background:var(--primary);
    box-shadow:0 6px 20px rgba(0,0,0,.08); transition:transform .08s ease, filter .15s ease, background .15s ease;
  }
  .btn:hover{ filter:brightness(1.06); background:var(--primary-hover); transform:translateY(-1px) }
  .btn:active{ transform:translateY(0) }
  .btn:focus-visible{ outline:3px solid #93c5fd; outline-offset:2px }

  .foot{ margin-top:14px; text-align:center; color:#e5e7eb; font-size:13px }

  /* === Chat card === */
  .chat-card{ margin-top:18px; padding:0; }
  .chat-body{ padding:20px 18px 22px; display:flex; flex-direction:column; gap:12px }
  .chat-row{ display:flex; gap:10px; align-items:flex-end; }
  .bubble{
    max-width:720px; padding:12px 14px; border-radius:14px; line-height:1.6; font-size:16px;
    border:1px solid var(--line); background:#f9fafb; color:#111827;
  }
  .bubble.me{ margin-left:auto; background:#e0f2fe; border-color:#bae6fd }
  .choices{ display:grid; grid-template-columns:repeat(7,minmax(44px,1fr)); gap:10px; margin-top:4px }
  .choice{ background:#2563eb; color:#fff; border:none; border-radius:12px; padding:12px 0; font-weight:800; font-size:18px; cursor:pointer }
  .choice:hover{ filter:brightness(1.05) }
  .hint{ font-size:13px; color:#6b7280 }
</style>
</head>
<body>
  <div class="shell">
    <header class="hero" role="banner">
      <div class="eyebrow">국립창원대학교 도서관 북큐레이션 참여이벤트 2</div>
      <h1 class="title">텍스트 온 더 무브</h1>
      <div class="subtitle">(Text on the Move)</div>
    </header>

    <!-- 기존 메인 카드 -->
    <section class="card" aria-label="메인 선택">
      <div class="card-body">
        <p class="lead"></p>
        <div class="btn-row">
          <a class="btn" href="./with_code/with_code.html" aria-label="참여1 코드로 소통하기로 이동">코드로 소통하기</a>
        </div>
      </div>
    </section>

    <!-- 새: 챗 카드 -->
    <section class="card chat-card" aria-label="시 카테고리 챗">
      <div class="chat-body" id="chat">
        <!-- 스크립트가 초기 메시지와 선택 버튼을 렌더링합니다 -->
      </div>
    </section>

    <div class="foot">Changwon National University Library</div>
  </div>

<script>
/* 간단 챗 렌더러 */
const chat = document.getElementById('chat');

function bot(text){
  const row = document.createElement('div'); row.className='chat-row';
  const bub = document.createElement('div'); bub.className='bubble'; bub.textContent = text;
  row.appendChild(bub); chat.appendChild(row); chat.scrollTop = chat.scrollHeight;
}
function me(text){
  const row = document.createElement('div'); row.className='chat-row';
  const bub = document.createElement('div'); bub.className='bubble me'; bub.textContent = text;
  row.appendChild(bub); chat.appendChild(row); chat.scrollTop = chat.scrollHeight;
}
function choices(labels = ['1','2','3','4','5','6','7']){
  const wrap = document.createElement('div'); wrap.className='choices';
  labels.forEach(l => {
    const b = document.createElement('button');
    b.className = 'choice'; b.textContent = l; b.setAttribute('aria-label', `카테고리 ${l} 선택`);
    b.addEventListener('click', () => onPick(l));
    wrap.appendChild(b);
  });
  chat.appendChild(wrap); chat.scrollTop = chat.scrollHeight;
}

/* 선택 동작: 챗에 응답 + 새 탭으로 뷰어 열기 */
function onPick(cat){
  me(`${cat}번을 선택합니다.`);
  bot(`${cat}번 주제를 선택하셨네요! 이 주제에 맞는 글귀를 보여드릴게요.`);
  // 새 탭으로 열기 (오늘의 시 1편 랜덤 전시)
  const url = `./today_poem/view.html?c=${encodeURIComponent(cat)}&auto=random`;
  window.open(url, '_blank', 'noopener');
}

/* 시작 메시지 */
bot('원하는 주제를 골라주세요. 아래에서 카테고리(1~7) 중 하나를 선택하면, 해당 주제의 글귀를 새 창에서 보여드릴게요.');
choices();
</script>
</body>
</html>
